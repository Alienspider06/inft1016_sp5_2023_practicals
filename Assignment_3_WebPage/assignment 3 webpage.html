<!DOCTYPE html>
<html>
<head>
    /*The following code will define the document properties*/
    <meta charset="utf-8">
    <title>Assingment 3 webpage</title> 
    <link rel="stylesheet" href="base.css">
    <style>
        :root {
            --primary-color: rgb(255,255,255);
            --secondary-color: rgb(200,200,200);
            --bg-color: rgb(240, 240, 240);
            --font-color: rgb(50, 50, 50);
            --heading-color: rgb(100, 100, 100);
        }

        [data-theme="dark"] {
            --primary-color: rgb(0, 0, 0);
            --secondary-color: rgb(50,50,50);
            --bg-color: rgb(20,20,20);
            --font-color: rgb(180,180,180);
            --heading-color: rgb(150,150,150)
           ;
        }

        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            color: var(--primary-color);
        }

        button, img, p {
            margin-bottom: 10px
        }

        img {
            max-width: 400px;
            height: auto;
        }
    </style>
</head>
<body>
    <header>
        <h1>Image gallery</h1>
        <button onclick="toggleTheme()">Toggle Theme</button>
    </header>
    <nav>
        <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">Our team</a></li>
            <li><a href="#">Project</a></li>
            <li><a href="#">Contact</a></li>
        </ul>
        <form>
            <input type="text" name="user_name" placeholder="Enter your name!">
            <button type="submit>"Apply!</button>
        </form>
    </nav>
    <main>
        

        <img src="https://tisztaotthon.cafeblog.hu/files/2018/01/nanotech.jpg">
        <p id="imageDescription">default image description</p>
        
        <button onclick="imageChanger('https://uwaterloo.ca/future-students/sites/ca.future-students/files/uploads/images/eng-nano-student.jpg', 'A university created a course solely based on nanotechnology by realizing its untapped potential.', 'https://uwaterloo.ca/future-students/programs/nanotechnology-engineering')">image 1</button>
        <button onclick="imageChanger('https://cdn.leverageedu.com/blog/wp-content/uploads/2020/04/17210350/Applications-of-Nanotechnology.png', 'Applications of nanotechnology in engineering.', 'https://leverageedu.com/blog/applications-of-nanotechnology/')">image 2</button>
        <button onclick="imageChanger('https://image.slideserve.com/631675/nanotechnology-in-mechanical-engineering19-l.jpg', 'How nanotechnology can solve different kinds of problem for mechanical engineering.', 'https://www.slideserve.com/brit/nanotechnology-in-mechanical-engineering')">image 3</button>
        <button onclick="imageChanger('https://www.azonano.com/images/Article_Images/ImageForArticle_4985(1).jpg', 'How nanotechnology can solve different types of challenges in computer science and computer software engineering.', 'https://www.azonano.com/article.aspx?ArticleID=4985')">image 4</button>
        <button onclick="imageChanger('https://greenstories.co.in/wp-content/uploads/2020/12/1-4.jpg', 'Nanotechnology possesses alot of threats and dangers and this link will tell us exactly about the problem.', 'https://greenstories.co.in/nanotoxicology/')">image 5</button>
        <p id="date-time">Now the date and time is:</p>
    
    
    </main>
    <footer>
        <p>Â©Copyright 2050 by nobody. All rights reversed.</p>
    </footer>

    <script>
        function toggleTheme() {
            const body = document.body;
            if (body.getAttribute('data-theme') == 'dark') {
                body.removeAttribute('data-theme');
            } else {
                body.setAttribute('data-theme', 'dark');
            }

        }

        function imageChanger(imageSrc, imageDescription, externalLink) {
            document.querySelector('img').src = imageSrc;
            document.getElementById('imageDescription').innerHTML = imageDescription + ' - <a href="' + externalLink + '" target="_blank">you will find the details within this link</a>';
        }

        function getQueryStringValue(key) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(key);
        }

        function updateUserHeading() {
            const username = getQueryStringValue('user_name');
            if (username) {
                localStorage.setItem('userName', username);
                const heading = document.querySelector('h1');
                heading.textContent = `Hello, ${username}`;
            } else {
                const storedUsername = localStorage.getItem('userName');
                if (storedUsername) {
                    const heading = document.querySelector('h1');
                    heading.textContent = `Hello, ${username}`;
                }
            }
        }


        function loadThemePrefernce() {
            const savedTheme = localStorage.getItem('themePreferences');
            if (savedTheme) {
                document.body.setAttribute('data-theme', savedTheme);
            }
        }

       

        function saveThemePreference() {
            local.storage.setItem('themPreference', savedTheme);
        }

        function storeUserNameFromQueryString() {
            const username = getQueryStringValue('user_name');
            if (user_name) {
                localStorage.setItem('userName', username);
                
            } else {
                const storeUsername = localStorage.getItem('userName');
                if (storedUsername) {

                }
            }
        }

      
        function showDateTime() {
            const now = new Date();
            const dateTimeElement = document.getElementById('date-time');
            
            const dateTimeString = now.toLocaleString();
            dateTimeElement.textContent = "Now the time and date is: " + dateTimeString;
        }
        window.addEventListener('load', showDateTime);

        window.addEventListener('load', updateUserHeading);

        window.addEventListener('load', loadThemePreference);

        window.addEventListener('load', storeUserNameFromQueryString);

        

                

    </script>
</body>
</html>

